import"./modulepreload-polyfill-B5Qt9EMX.js";let d=JSON.parse(localStorage.getItem("carrito"))||[];const j=document.getElementById("cart-desktop"),J=document.getElementById("cart-mobile"),p=document.getElementById("carrito-popup"),A=document.getElementById("cerrar-carrito");j.addEventListener("click",()=>{p.classList.add("open"),g()});J.addEventListener("click",()=>{p.classList.add("open"),g()});A.addEventListener("click",()=>{p.classList.remove("open")});function g(){const t=document.getElementById("carrito-contenido");t.innerHTML="",d.length===0&&(t.innerHTML="<p>No hay productos en el carrito.</p>");let c=0;d.forEach((n,r)=>{const a=document.createElement("div");a.classList.add("carrito-item"),a.innerHTML=`
            <img src="${n.imagen}" alt="${n.nombre}">
            <div class="nombre">${n.nombre}</div>
            <div class="precio">${n.precio.toLocaleString("es-CL",{maximumFractionDigits:0})} CLP</div>
            <div class="eliminar" data-index="${r}">❌</div>
        `,t.appendChild(a),c+=n.precio}),document.getElementById("total-precio").textContent=c.toLocaleString("es-CL",{maximumFractionDigits:0}),document.querySelectorAll(".carrito-item .eliminar").forEach(n=>{n.addEventListener("click",r=>{const a=r.target.getAttribute("data-index");d.splice(a,1),localStorage.setItem("carrito",JSON.stringify(d)),g()})})}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("hamburguer-menu"),c=document.getElementById("close-menu"),o=document.getElementById("hamburguer-menu-list");t.addEventListener("click",function(){o.classList.remove("hidden")}),c.addEventListener("click",function(){o.classList.add("hidden")}),o.addEventListener("click",function(n){n.target===o&&o.classList.add("hidden")})});document.getElementById("vaciar-carrito").addEventListener("click",()=>{d=[],localStorage.setItem("carrito",JSON.stringify(d)),g()});document.addEventListener("DOMContentLoaded",()=>{const t=new URLSearchParams(window.location.search),c=t.get("nombre"),o=t.get("precio"),n=t.get("imagen"),r=t.get("partOf"),a=t.get("mainType"),x=t.get("descripcion"),$=t.get("fecha"),k=t.get("out"),f=t.get("mensajeSalida"),M=t.get("rareza"),O=t.get("partede"),E=t.get("imgbundle"),s=t.get("imgbundle2"),m=t.get("imgbundle3"),l=t.get("imgbundle4"),L=document.getElementById("nombre-producto"),B=document.getElementById("precio-producto"),I=document.getElementById("producto-imagen"),h=document.getElementById("descripcion-producto"),y=document.getElementById("partOf"),S=document.getElementById("mainType"),C=document.getElementById("rareza"),b=document.getElementById("partede"),u=document.getElementById("producto-imagenes"),P=v($);document.getElementById("fecha-inicio").textContent=`Llegó a la tienda: ${P}`;const T=v(k);document.getElementById("fecha-salida").textContent=`Se va de la tienda: ${T}`,f&&(document.getElementById("mensaje-salida").textContent=f);function v(i){const e=new Date(i),D=String(e.getDate()).padStart(2,"0"),F=String(e.getMonth()+1).padStart(2,"0"),H=e.getFullYear(),N=String(e.getHours()).padStart(2,"0"),z=String(e.getMinutes()).padStart(2,"0"),w=String(e.getSeconds()).padStart(2,"0");return`${D}-${F}-${H} ${N}:${z}:${w}`}if(L&&(L.textContent=c),B&&(B.innerHTML=`Precio: <span>$${(o*4.9).toLocaleString("es-CL")} CLP</span>`),I&&(I.src=n),h&&(h.textContent=x||"Descripción no disponible."),y&&(y.textContent=r||"No especificado"),S&&(S.textContent=a||"No especificado"),C&&(C.textContent=M),b&&(b.textContent=O),u){u.innerHTML="";const i=[];if(E){const e=document.createElement("img");e.id="imagen1",e.src=E,e.alt="Imagen del producto - Bundle 1",e.classList.add("producto-imagen-lote"),i.push(e)}if(s&&s!=="undefined"&&s!==""){const e=document.createElement("img");e.id="imagen2",e.src=s,e.alt="Imagen del producto - Bundle 2",e.classList.add("producto-imagen-lote"),i.push(e)}if(m&&m!=="undefined"&&m!==""){const e=document.createElement("img");e.id="imagen3",e.src=m,e.alt="Imagen del producto - Bundle 3",e.classList.add("producto-imagen-lote"),i.push(e)}if(l&&l!=="undefined"&&l!==""){const e=document.createElement("img");e.id="imagen4",e.src=l,e.alt="Imagen del producto - Bundle 4",e.classList.add("producto-imagen-lote"),i.push(e)}i.length>0&&i.forEach(e=>{u.appendChild(e)})}});
